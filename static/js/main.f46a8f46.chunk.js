(this["webpackJsonpsd-0x-project-frontend-online-store"]=this["webpackJsonpsd-0x-project-frontend-online-store"]||[]).push([[0],{21:function(t,e,a){t.exports=a(36)},26:function(t,e,a){},36:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),i=(a(26),a(12)),u=a(1),s=a(7),l=a(8),p=a(10),d=a(9),m=function(t){Object(p.a)(a,t);var e=Object(d.a)(a);function a(){var t;return Object(s.a)(this,a),(t=e.call(this)).getLocal=function(){var e=JSON.parse(localStorage.getItem("cart"));t.setState({getLocalProduct:e})},t.increase=function(e){var a=t.state.getLocalProduct;a[e].quantity+=1,t.setState({getLocalProduct:a})},t.decrease=function(e){var a=t.state.getLocalProduct;a[e].quantity>=1&&(a[e].quantity-=1),t.setState({getLocalProduct:a})},t.state={getLocalProduct:[]},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getLocal()}},{key:"render",value:function(){var t=this,e=this.state.getLocalProduct;return r.a.createElement("div",null,e&&0!==e.length?r.a.createElement("div",null,e.map((function(e,a){return r.a.createElement("div",{key:a},r.a.createElement("span",{"data-testid":"shopping-cart-product-quantity"},e.quantity),r.a.createElement("button",{type:"button","data-testid":"product-increase-quantity",onClick:function(){return t.increase(a)}},"+"),r.a.createElement("button",{type:"button","data-testid":"product-decrease-quantity",onClick:function(){return t.decrease(a)}},"-"),r.a.createElement("span",{"data-testid":"shopping-cart-product-name"},e.title))}))):r.a.createElement("p",{"data-testid":"shopping-cart-empty-message"},"Seu carrinho est\xe1 vazio"),r.a.createElement(i.b,{to:"/"},"Back to Home"))}}]),a}(n.Component),h=a(2),f=a.n(h),v=a(11);function b(){return y.apply(this,arguments)}function y(){return(y=Object(v.a)(f.a.mark((function t(){var e,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.mercadolibre.com/sites/MLB/categories");case 2:return e=t.sent,t.next=5,e.json();case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t){return E.apply(this,arguments)}function E(){return(E=Object(v.a)(f.a.mark((function t(e){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.mercadolibre.com/sites/MLB/search?category=".concat(e));case 2:return a=t.sent,t.next=5,a.json();case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(t){return O.apply(this,arguments)}function O(){return(O=Object(v.a)(f.a.mark((function t(e){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.mercadolibre.com/sites/MLB/search?q=".concat(e));case 2:return a=t.sent,t.next=5,a.json();case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(t){return x.apply(this,arguments)}function x(){return(x=Object(v.a)(f.a.mark((function t(e){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(" https://api.mercadolibre.com/items/".concat(e));case 2:return a=t.sent,t.next=5,a.json();case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var w=function(t){Object(p.a)(a,t);var e=Object(d.a)(a);function a(){var t;return Object(s.a)(this,a),(t=e.call(this)).getProductDetails=Object(v.a)(f.a.mark((function e(){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props.match.params.id,e.next=3,k(a);case 3:n=e.sent,t.setState({productDetails:n});case 5:case"end":return e.stop()}}),e)}))),t.addToCart=function(t){t.quantity=1;var e=[],a=JSON.parse(localStorage.getItem("cart"));a?(e=a).push(t):e.push(t);var n=JSON.stringify(e);localStorage.setItem("cart",n)},t.state={productDetails:[]},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getProductDetails()}},{key:"render",value:function(){var t=this,e=this.state.productDetails,a=e.title,n=e.thumbnail,c=e.price,o=this.state.productDetails;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h2",{"data-testid":"product-detail-name"},a),r.a.createElement("img",{src:n,alt:a}),r.a.createElement("p",null,c)),r.a.createElement("div",null,r.a.createElement(i.b,{to:"/","data-testid":"product-detail-add-to-cart",type:"button",onClick:function(){return t.addToCart(o)}},"Add To Cart")))}}]),a}(n.Component),S=function(t){Object(p.a)(a,t);var e=Object(d.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("p",{"data-testid":"home-initial-message"},"Digite algum termo de pesquisa ou escolha uma categoria.")}}]),a}(r.a.Component),C=function(t){Object(p.a)(a,t);var e=Object(d.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(i.b,{to:"/mycart","data-testid":"shopping-cart-button"},r.a.createElement("span",null,"\ud83d\uded2"))}}]),a}(n.Component),L=function(t){Object(p.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).addLocalStorage=function(t){t.quantity=1;var e=[],a=JSON.parse(localStorage.getItem("cart"));a?(e=a).push(t):e.push(t);var n=JSON.stringify(e);localStorage.setItem("cart",n)},t}return Object(l.a)(a,[{key:"render",value:function(){var t=this,e=this.props.card,a=this.props.card,n=a.title,c=a.thumbnail,o=a.price;return r.a.createElement("div",{"data-testid":"product"},r.a.createElement("h2",null,n),r.a.createElement("img",{src:c,alt:"title "}),r.a.createElement("p",null,o),r.a.createElement("button",{type:"button","data-testid":"product-add-to-cart",onClick:function(){return t.addLocalStorage(e)}},"Add To Cart"))}}]),a}(n.Component),q=function(t){Object(p.a)(a,t);var e=Object(d.a)(a);function a(){var t;return Object(s.a)(this,a),(t=e.call(this)).handleChange=function(e){var a=e.target.value;t.setState({search:a})},t.handleClick=function(){var e=Object(v.a)(f.a.mark((function e(a){var n,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.target,r=n.id,e.next=4,g(r);case 4:c=e.sent,t.setState({products:c.results});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.fetchList=Object(v.a)(f.a.mark((function e(){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.state.search,e.next=3,j(a);case 3:n=e.sent,r=n.results,t.setState({products:r});case 6:case"end":return e.stop()}}),e)}))),t.state={products:[],search:"",categories:[]},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=Object(v.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b();case 2:e=t.sent,this.setState({categories:e});case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.state,a=e.products,n=e.search,c=e.categories;return a?r.a.createElement("main",null,r.a.createElement("header",null,r.a.createElement(C,null),r.a.createElement("input",{type:"text","data-testid":"query-input",value:n,onChange:this.handleChange}),r.a.createElement("button",{"data-testid":"query-button",type:"button",onClick:this.fetchList},"Search")),r.a.createElement("section",null,r.a.createElement(S,null)),r.a.createElement("div",null,c.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("button",{"data-testid":"category",type:"button",id:e.id,onClick:t.handleClick},e.name))})),r.a.createElement("section",null,a.map((function(t){return r.a.createElement("div",{key:t.id},r.a.createElement(i.b,{key:t.id,produto:t.id,"data-testid":"product-detail-link",to:"/item/".concat(t.id)},"Details"),r.a.createElement(L,{card:t}))}))))):r.a.createElement("p",null,"Nenhum produto foi encontrado")}}]),a}(n.Component);var D=function(){return r.a.createElement("main",null,r.a.createElement(i.a,{basename:"/front-end-online-store"},r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:q}),r.a.createElement(u.a,{exact:!0,path:"/mycart",component:m}),r.a.createElement(u.a,{exact:!0,path:"/item/:id",component:w}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.f46a8f46.chunk.js.map